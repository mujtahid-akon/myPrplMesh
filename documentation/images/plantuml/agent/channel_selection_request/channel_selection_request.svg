<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1215px" preserveAspectRatio="none" style="width:2329px;height:1215px;background:#FFFFFF;" version="1.1" viewBox="0 0 2329 1215" width="2329px" zoomAndPan="magnify"><defs/><g><rect height="250.1953" style="stroke:#000000;stroke-width:1.5;fill:none;" width="2302.5" x="10" y="197.8281"/><rect height="305.3281" style="stroke:#000000;stroke-width:1.5;fill:none;" width="2302.5" x="10" y="505.1563"/><rect height="221.0625" style="stroke:#000000;stroke-width:1.5;fill:none;" width="2302.5" x="10" y="867.6172"/><rect height="17.1328" style="stroke:#000000;stroke-width:1.5;fill:none;" width="382" x="30" y="1145.8125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="107" x2="107" y1="36.2969" y2="1179.9453"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="446" x2="446" y1="36.2969" y2="1179.9453"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="785.5" x2="785.5" y1="36.2969" y2="1179.9453"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1124.5" x2="1124.5" y1="36.2969" y2="1179.9453"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1552" x2="1552" y1="36.2969" y2="1179.9453"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1744" x2="1744" y1="36.2969" y2="1179.9453"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2274.5" x2="2274.5" y1="36.2969" y2="1179.9453"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="27" y="24.9951">channel_selection_task</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175" x="20" y="1178.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="27" y="1198.9404">channel_selection_task</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="338" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="345" y="24.9951">backhaul_manager_task_pool</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="338" y="1178.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="345" y="1198.9404">backhaul_manager_task_pool</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="713.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="720.5" y="24.9951">backhaul_manager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="713.5" y="1178.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="720.5" y="1198.9404">backhaul_manager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1057.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1064.5" y="24.9951">son_slave_thread</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1057.5" y="1178.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1064.5" y="1198.9404">son_slave_thread</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1503" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1510" y="24.9951">ap_manager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1503" y="1178.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1510" y="1198.9404">ap_manager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="1706" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1713" y="24.9951">bwl_whm</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="1706" y="1178.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1713" y="1198.9404">bwl_whm</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="2246.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="2253.5" y="24.9951">pwhm</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="2246.5" y="1178.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="2253.5" y="1198.9404">pwhm</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2322.5" x="0" y="66.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="66.8633" y2="66.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="69.8633" y2="69.8633"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="499" x="911.75" y="56.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="480" x="917.75" y="72.3638">After parsing Channel Selection Request, any change is required</text><polygon fill="#181818" points="1112.5,106.5625,1122.5,110.5625,1112.5,114.5625,1116.5,110.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="107.5" x2="1118.5" y1="110.5625" y2="110.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="393" x="114.5" y="105.4966">ACTION_BACKHAUL_HOSTAP_CHANNEL_SWITCH_ACS_START</text><polygon fill="#181818" points="1540.5,135.6953,1550.5,139.6953,1540.5,143.6953,1544.5,139.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1124.5" x2="1546.5" y1="139.6953" y2="139.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="1131.5" y="134.6294">ACTION_APMANAGER_HOSTAP_CHANNEL_SWITCH_ACS_START</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2322.5" x="0" y="168.2617"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="168.2617" y2="168.2617"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="171.2617" y2="171.2617"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="234" x="1044.25" y="157.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="215" x="1050.25" y="173.7622">Channel and Operating Class</text><path d="M10,197.8281 L691,197.8281 L691,204.9609 L681,214.9609 L10,214.9609 L10,197.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="250.1953" style="stroke:#000000;stroke-width:1.5;" width="2302.5" x="10" y="197.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="636" x="25" y="210.895">if 1905 Channel Selection Request instructs agent to change the Channel / Bandwidth</text><polygon fill="#181818" points="1732.5,232.0938,1742.5,236.0938,1732.5,240.0938,1736.5,236.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1552.5" x2="1738.5" y1="236.0938" y2="236.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1559.5" y="231.0278">switch_channel()</text><polygon fill="#181818" points="2262.5,261.2266,2272.5,265.2266,2262.5,269.2266,2266.5,265.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1744.5" x2="2268.5" y1="265.2266" y2="265.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="1751.5" y="260.1606">WiFi.Radio.x. set("OperatingChannelBandwidth", "Channel")</text><polygon fill="#181818" points="1755.5,290.3594,1745.5,294.3594,1755.5,298.3594,1751.5,294.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1749.5" x2="2273.5" y1="294.3594" y2="294.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="1761.5" y="289.2935">WiFi.Radio.x. process_radio_channel_change_event()</text><polygon fill="#181818" points="1563.5,319.4922,1553.5,323.4922,1563.5,327.4922,1559.5,323.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1557.5" x2="1743.5" y1="323.4922" y2="323.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1569.5" y="318.4263">Event:CSA_Finished</text><polygon fill="#181818" points="1135.5,348.625,1125.5,352.625,1135.5,356.625,1131.5,352.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1129.5" x2="1551.5" y1="352.625" y2="352.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="1141.5" y="347.5591">ACTION_APMANAGER_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="796.5,377.7578,786.5,381.7578,796.5,385.7578,792.5,381.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="790.5" x2="1123.5" y1="381.7578" y2="381.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="802.5" y="376.6919">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="457.5,406.8906,447.5,410.8906,457.5,414.8906,453.5,410.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="451.5" x2="784.5" y1="410.8906" y2="410.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="463.5" y="405.8247">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="118.5,436.0234,108.5,440.0234,118.5,444.0234,114.5,440.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="112.5" x2="445.5" y1="440.0234" y2="440.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="124.5" y="434.9575">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2322.5" x="0" y="475.5898"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="475.5898" y2="475.5898"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="478.5898" y2="478.5898"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="173" x="1074.75" y="465.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="154" x="1080.75" y="481.0903">Spatial Reuse Config</text><path d="M10,505.1563 L586,505.1563 L586,512.2891 L576,522.2891 L10,522.2891 L10,505.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="305.3281" style="stroke:#000000;stroke-width:1.5;" width="2302.5" x="10" y="505.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="531" x="25" y="518.2231">if 1905 Channel Selection Request contains Spatial Reuse Request TLVs</text><line style="stroke:#181818;stroke-width:1.0;" x1="1552.5" x2="1594.5" y1="543.4219" y2="543.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1594.5" x2="1594.5" y1="543.4219" y2="556.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1553.5" x2="1594.5" y1="556.4219" y2="556.4219"/><polygon fill="#181818" points="1563.5,552.4219,1553.5,556.4219,1563.5,560.4219,1559.5,556.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1559.5" y="538.356">start 5[s] timer</text><polygon fill="#181818" points="1732.5,581.5547,1742.5,585.5547,1732.5,589.5547,1736.5,585.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1552.5" x2="1738.5" y1="585.5547" y2="585.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1559.5" y="580.4888">set_spatial_reuse_config()</text><polygon fill="#181818" points="2262.5,610.6875,2272.5,614.6875,2262.5,618.6875,2266.5,614.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1744.5" x2="2268.5" y1="614.6875" y2="614.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="1751.5" y="609.6216">WiFi.Radio.x.IEEE80211ax. set ("A lot of parameters")</text><line style="stroke:#181818;stroke-width:1.0;" x1="1552.5" x2="1594.5" y1="643.8203" y2="643.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1594.5" x2="1594.5" y1="643.8203" y2="656.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1553.5" x2="1594.5" y1="656.8203" y2="656.8203"/><polygon fill="#181818" points="1563.5,652.8203,1553.5,656.8203,1563.5,660.8203,1559.5,656.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1559.5" y="638.7544">timer elapsed</text><polygon fill="#181818" points="1563.5,681.9531,1553.5,685.9531,1563.5,689.9531,1559.5,685.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1557.5" x2="1743.5" y1="685.9531" y2="685.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1569.5" y="680.8872">get_spatial_reuse_config()</text><polygon fill="#181818" points="1135.5,711.0859,1125.5,715.0859,1135.5,719.0859,1131.5,715.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1129.5" x2="1551.5" y1="715.0859" y2="715.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="1141.5" y="710.02">ACTION_APMANAGER_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="796.5,740.2188,786.5,744.2188,796.5,748.2188,792.5,744.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="790.5" x2="1123.5" y1="744.2188" y2="744.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="802.5" y="739.1528">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="457.5,769.3516,447.5,773.3516,457.5,777.3516,453.5,773.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="451.5" x2="784.5" y1="773.3516" y2="773.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="463.5" y="768.2856">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="118.5,798.4844,108.5,802.4844,118.5,806.4844,114.5,802.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="112.5" x2="445.5" y1="802.4844" y2="802.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="124.5" y="797.4185">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2322.5" x="0" y="838.0508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="838.0508" y2="838.0508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="841.0508" y2="841.0508"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="117" x="1102.75" y="827.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1108.75" y="843.5513">Set TX Power</text><path d="M10,867.6172 L575,867.6172 L575,874.75 L565,884.75 L10,884.75 L10,867.6172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="221.0625" style="stroke:#000000;stroke-width:1.5;" width="2302.5" x="10" y="867.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="520" x="25" y="880.6841">if 1905 Channel Selection Request contains Transmit Power Limit TLVs</text><polygon fill="#181818" points="1732.5,901.8828,1742.5,905.8828,1732.5,909.8828,1736.5,905.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1552.5" x2="1738.5" y1="905.8828" y2="905.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1559.5" y="900.8169">set_tx_power_limit()</text><polygon fill="#181818" points="2262.5,931.0156,2272.5,935.0156,2262.5,939.0156,2266.5,935.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1744.5" x2="2268.5" y1="935.0156" y2="935.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="1751.5" y="929.9497">WiFi.Radio.x. set ("TransmitPower")</text><polygon fill="#181818" points="2262.5,960.1484,2272.5,964.1484,2262.5,968.1484,2266.5,964.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1744.5" x2="2268.5" y1="964.1484" y2="964.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="506" x="1751.5" y="959.0825">using outdated conversion from EasyMesh[dBm] to pwhm[% of chip MaxPower]</text><polygon fill="#181818" points="1135.5,989.2813,1125.5,993.2813,1135.5,997.2813,1131.5,993.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1129.5" x2="1551.5" y1="993.2813" y2="993.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="1141.5" y="988.2153">ACTION_APMANAGER_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="796.5,1018.4141,786.5,1022.4141,796.5,1026.4141,792.5,1022.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="790.5" x2="1123.5" y1="1022.4141" y2="1022.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="802.5" y="1017.3481">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="457.5,1047.5469,447.5,1051.5469,457.5,1055.5469,453.5,1051.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="451.5" x2="784.5" y1="1051.5469" y2="1051.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="463.5" y="1046.481">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><polygon fill="#181818" points="118.5,1076.6797,108.5,1080.6797,118.5,1084.6797,114.5,1080.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="112.5" x2="445.5" y1="1080.6797" y2="1080.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="124.5" y="1075.6138">ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2322.5" x="0" y="1116.2461"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="1116.2461" y2="1116.2461"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2322.5" y1="1119.2461" y2="1119.2461"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="128" x="1097.25" y="1105.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="109" x="1103.25" y="1121.7466">EHTOperations</text><path d="M30,1145.8125 L407,1145.8125 L407,1152.9453 L397,1162.9453 L30,1162.9453 L30,1145.8125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="17.1328" style="stroke:#000000;stroke-width:1.5;" width="382" x="30" y="1145.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="332" x="45" y="1158.8794">! ! ! tlvEHTOperations is not handled yet ! ! !</text><!--MD5=[4a7a4f467c9f1c05915c33a1012091be]
@startuml

participant channel_selection_task
participant backhaul_manager_task_pool
participant backhaul_manager
participant son_slave_thread
participant ap_manager
participant bwl_whm
participant pwhm

== After parsing Channel Selection Request, any change is required ==

channel_selection_task -> son_slave_thread : ACTION_BACKHAUL_HOSTAP_CHANNEL_SWITCH_ACS_START

son_slave_thread -> ap_manager : ACTION_APMANAGER_HOSTAP_CHANNEL_SWITCH_ACS_START


== Channel and Operating Class ==

group if 1905 Channel Selection Request instructs agent to change the Channel / Bandwidth
	ap_manager -> bwl_whm : switch_channel()
	bwl_whm -> pwhm : WiFi.Radio.x. set("OperatingChannelBandwidth", "Channel")
	pwhm -> bwl_whm : WiFi.Radio.x. process_radio_channel_change_event()
	bwl_whm -> ap_manager : Event:CSA_Finished
	ap_manager -> son_slave_thread : ACTION_APMANAGER_HOSTAP_CSA_NOTIFICATION
	son_slave_thread -> backhaul_manager : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
	backhaul_manager -> backhaul_manager_task_pool : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
	backhaul_manager_task_pool -> channel_selection_task : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
end

== Spatial Reuse Config ==

group if 1905 Channel Selection Request contains Spatial Reuse Request TLVs
	ap_manager -> ap_manager : start 5[s] timer
	ap_manager -> bwl_whm : set_spatial_reuse_config()
	bwl_whm -> pwhm : WiFi.Radio.x.IEEE80211ax. set ("A lot of parameters")
	ap_manager -> ap_manager : timer elapsed
	bwl_whm -> ap_manager : get_spatial_reuse_config()
	ap_manager -> son_slave_thread : ACTION_APMANAGER_HOSTAP_CSA_NOTIFICATION
	son_slave_thread -> backhaul_manager : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
	backhaul_manager -> backhaul_manager_task_pool : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
	backhaul_manager_task_pool -> channel_selection_task : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
end

== Set TX Power ==

group if 1905 Channel Selection Request contains Transmit Power Limit TLVs
	ap_manager -> bwl_whm : set_tx_power_limit()
	bwl_whm -> pwhm : WiFi.Radio.x. set ("TransmitPower")
	bwl_whm -> pwhm : using outdated conversion from EasyMesh[dBm] to pwhm[% of chip MaxPower]
	ap_manager -> son_slave_thread : ACTION_APMANAGER_HOSTAP_CSA_NOTIFICATION
	son_slave_thread -> backhaul_manager : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
	backhaul_manager -> backhaul_manager_task_pool : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
	backhaul_manager_task_pool -> channel_selection_task : ACTION_BACKHAUL_HOSTAP_CSA_NOTIFICATION
end
	

== EHTOperations ==

group ! ! ! tlvEHTOperations is not handled yet ! ! !
end

@enduml

PlantUML version 1.2022.6(Tue Jun 21 19:34:49 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>